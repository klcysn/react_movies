(this.webpackJsonpreact_movies=this.webpackJsonpreact_movies||[]).push([[0],{64:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(1),s=a(30),r=a.n(s),l=a(11),i=a(2),o=a(3),d=a.n(o),j=a(12),m=a(5),b=a(6),u=a.n(b),h=function(){var e,t,a,s=Object(i.f)(),r=Object(i.g)(),l=r.id,o=r.current,b=Object(n.useState)(),h=Object(m.a)(b,2),x=h[0],p=h[1],O=Object(n.useState)(),v=Object(m.a)(O,2),f=v[0],g=v[1],N=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("https://api.themoviedb.org/3/movie/".concat(l,"?api_key=").concat("f1ec13c457f578133c96cc9ea33414eb","&language=en-US"));case 2:return t=e.sent,a=t.data,e.next=6,u.a.get("https://api.themoviedb.org/3/movie/".concat(l,"/similar?api_key=").concat("f1ec13c457f578133c96cc9ea33414eb","&language=en-US&page=1"));case 6:c=e.sent,g(c.data.results),p(a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){N()}),[l]);var w=function(){return f.map((function(e){return Object(c.jsx)("div",{className:"col-2 mb-2",onClick:function(){return s.push("/detail/".concat(e.id))},style:{cursor:"pointer"},children:Object(c.jsxs)("div",{className:"card h-100",children:[Object(c.jsx)("img",{src:(null===e||void 0===e?void 0:e.poster_path)?"https://image.tmdb.org/t/p/w500".concat(null===e||void 0===e?void 0:e.poster_path):"/logo512.png",className:"card-img-top",alt:"..."}),Object(c.jsx)("div",{className:"card-body",children:Object(c.jsx)("h5",{className:"card-title",children:e.title})})]})})}))};return x?Object(c.jsxs)("div",{className:"card mb-3 w-100 overflow-hidden",children:[Object(c.jsxs)("div",{className:"row justify-content-between",children:[Object(c.jsx)("div",{className:"col-4",children:Object(c.jsx)("img",{className:"w-100 h-100",src:(null===x||void 0===x?void 0:x.poster_path)?"https://image.tmdb.org/t/p/w500".concat(null===x||void 0===x?void 0:x.poster_path):"/logo512.png",alt:"..."})}),Object(c.jsx)("div",{className:"col-8",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h5",{className:"card-title mb-4",children:null===x||void 0===x?void 0:x.title}),Object(c.jsx)("a",{href:null===x||void 0===x?void 0:x.homepage,className:"link-secondary",children:"Visit Official website"}),Object(c.jsxs)("p",{className:"card-text mb-4 mt-4",children:[Object(c.jsx)("strong",{children:"Company:"})," ",null===x||void 0===x||null===(e=x.production_companies[0])||void 0===e?void 0:e.name]}),Object(c.jsxs)("p",{className:"card-text mb-4",children:[Object(c.jsx)("strong",{children:"Country:"})," ",null===x||void 0===x||null===(t=x.production_countries[0])||void 0===t?void 0:t.name]}),Object(c.jsxs)("p",{className:"card-text mb-4",children:[Object(c.jsx)("strong",{children:"Language:"})," ",null===x||void 0===x||null===(a=x.spoken_languages[0])||void 0===a?void 0:a.name]}),Object(c.jsxs)("p",{className:"card-text mb-4",children:[Object(c.jsx)("strong",{children:"Date:"})," ",null===x||void 0===x?void 0:x.release_date]}),Object(c.jsxs)("p",{className:"card-text mb-4",children:[Object(c.jsx)("strong",{children:"Rating:"})," ",Object(c.jsx)("span",{className:"badge bg-info fs-3",children:null===x||void 0===x?void 0:x.vote_average})]}),Object(c.jsx)("p",{className:"card-text",children:Object(c.jsx)("strong",{children:null===x||void 0===x?void 0:x.tagline})}),Object(c.jsx)("p",{className:"card-text",children:null===x||void 0===x?void 0:x.overview})]})})]}),Object(c.jsx)("div",{class:"col-12 mt-4 mb-4",children:Object(c.jsx)("button",{className:"btn btn-primary col-12 m-0",type:"button",onClick:function(){s.push("/current/".concat(o))},children:"Go Back to Movie List"})}),f.length?Object(c.jsx)("h5",{className:"card-title text-center",children:"Similar Movies"}):null,Object(c.jsx)("div",{class:"row cols-3 row-cols-md-6 g-4 w-100",children:Object(c.jsx)(w,{})})]}):Object(c.jsx)("div",{className:"d-flex justify-content-center",children:Object(c.jsx)("div",{className:"spinner-border text-info m-5",role:"status",children:Object(c.jsx)("span",{className:"visually-hidden"})})})},x=function(e){return Object(c.jsx)("div",{className:"mb-4",children:Object(c.jsx)("nav",{class:"navbar navbar-light bg-light w-100",children:Object(c.jsx)("div",{class:"container-fluid w-100",children:Object(c.jsx)("form",{class:"d-flex col-12",children:Object(c.jsx)("input",{className:"form-control col-12",type:"search",placeholder:"Search Movie...","aria-label":"Search",onChange:e.handleSearch})})})})})},p=function(e){var t=e.movie,a=Object(i.f)(),s=Object(i.g)().current,r=Object(n.useState)(!0),l=Object(m.a)(r,2),o=l[0],d=l[1],j=function(){a.push("/detail/".concat(s,"/").concat(t.id))};return Object(c.jsx)(c.Fragment,{children:o&&Object(c.jsxs)("div",{className:"card mb-4 shadow-sm col-lg-3 col-md-4 ml-1",style:{cursor:"pointer"},children:[Object(c.jsx)("img",{className:"card-img-top",onClick:j,src:t.poster_path?"https://image.tmdb.org/t/p/w500".concat(t.poster_path):"/logo512.png",alt:""}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h5",{className:"card-title",onClick:j,children:null===t||void 0===t?void 0:t.title}),Object(c.jsxs)("p",{className:"card-text overflow-hidden",onClick:j,children:[" ",null===t||void 0===t?void 0:t.overview.slice(0,150),"..."]}),Object(c.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(c.jsx)("button",{type:"button",className:"btn btn-md btn-outline-danger",onClick:function(){return d((function(e){return!e}))},children:"Hide"}),Object(c.jsx)("h2",{children:Object(c.jsx)("span",{className:"badge badge-info",children:null===t||void 0===t?void 0:t.vote_average})})]})]})]})})},O=function(e){var t=e.movieList;return Object(c.jsx)("div",{className:"d-flex flex-wrap justify-content-around",children:t?null===t||void 0===t?void 0:t.map((function(e){return Object(c.jsx)(p,{movie:e},null===e||void 0===e?void 0:e.id)})):Object(c.jsx)("div",{className:"d-flex justify-content-center",children:Object(c.jsx)("div",{className:"spinner-border text-info m-5",role:"status",children:Object(c.jsx)("span",{className:"visually-hidden"})})})})},v=function(){var e=Object(i.g)().current,t=Object(n.useState)(),a=Object(m.a)(t,2),s=a[0],r=a[1],l=Object(n.useState)(),o=Object(m.a)(l,2),b=o[0],h=o[1],p=Object(n.useState)(parseInt(e)||1),v=Object(m.a)(p,2),f=v[0],g=v[1],N="f1ec13c457f578133c96cc9ea33414eb",w=Object(i.f)(),y=function(){var t=Object(j.a)(d.a.mark((function t(){var a,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("https://api.themoviedb.org/3/movie/popular?api_key=".concat(N,"&language=en-US&page=").concat(e));case 2:a=t.sent,c=a.data.results,r(c);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){b?k(b):y()}),[b,f]);var k=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(N,"&query=").concat(t));case 2:a=e.sent,c=a.data.results,r(c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){g(f+1),w.push("/current/".concat(f+1))},S=function(){g(f-1),w.push("/current/".concat(f-1))};return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-12",children:Object(c.jsx)(x,{handleSearch:function(e){return h(e.target.value)}})})}),s?Object(c.jsx)(O,{movieList:s}):Object(c.jsx)("div",{className:"d-flex justify-content-center",children:Object(c.jsx)("div",{className:"spinner-border text-info m-5",role:"status",children:Object(c.jsx)("span",{className:"visually-hidden"})})}),Object(c.jsx)("nav",{children:Object(c.jsxs)("ul",{className:"pagination justify-content-center",children:[Object(c.jsx)("li",{className:"page-item",children:Object(c.jsx)("button",{className:"page-link",tabindex:"-1",disabled:1===f,onClick:S,children:"Previous"})}),1!==f?Object(c.jsx)("li",{className:"page-item",children:Object(c.jsx)("button",{className:"page-link",onClick:S,children:f-1})}):null,Object(c.jsx)("li",{className:"page-item active","aria-current":"page",children:Object(c.jsx)("button",{className:"page-link",children:f})}),Object(c.jsx)("li",{className:"page-item",children:Object(c.jsx)("button",{className:"page-link",onClick:C,children:f+1})}),Object(c.jsx)("li",{className:"page-item",children:Object(c.jsx)("button",{className:"page-link",onClick:C,children:"Next"})})]})})]})},f=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("nav",{className:"navbar navbar-dark bg-primary",children:Object(c.jsxs)("div",{className:"container-fluid",children:[Object(c.jsx)(l.b,{className:"navbar-brand",to:"/",children:"Home"}),Object(c.jsx)(l.b,{className:"navbar-brand",to:"/message",children:"Comments"})]})})})},g=a(7),N=a(18),w=a.n(N),y=function(){var e=Object(i.f)(),t=Object(n.useState)(!0),a=Object(m.a)(t,2),s=a[0],r=a[1],o=function(){var t=Object(j.a)(d.a.mark((function t(a){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,w()(a.target,{hash:!0});case 3:return c=t.sent,t.next=6,u.a.post("http://localhost:3002/comments",Object(g.a)(Object(g.a)({},c),{},{date:Date.now()}));case 6:e.push("/comments");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[s&&Object(c.jsxs)("div",{className:"alert alert-warning alert-dismissible fade show w-50 m-auto d-flex justify-content-between pr-0",role:"alert",children:[Object(c.jsxs)("p",{className:"d-inline-block",children:[Object(c.jsx)("strong",{children:"To see Comments"})," sent a comment or ",Object(c.jsx)(l.b,{to:"/comments",children:"click here"}),"."]}),Object(c.jsx)("p",{type:"button",className:"d-inline-block mr-4","data-bs-dismiss":"alert",onClick:function(){r(!1)},"aria-label":"Close",children:"X"})]}),Object(c.jsxs)("form",{className:"container w-50 mt-5",onSubmit:o,children:[Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsx)("label",{for:"name",className:"form-label",children:"Your Name"}),Object(c.jsx)("input",{type:"text",className:"form-control",name:"name",placeholder:"Write your name"})]}),Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsx)("label",{for:"surname",className:"form-label",children:"Your Surname"}),Object(c.jsx)("input",{type:"text",className:"form-control",name:"surname",placeholder:"Write your surname"})]}),Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsx)("label",{for:"email",className:"form-label",children:"Email address"}),Object(c.jsx)("input",{type:"email",className:"form-control",name:"email",placeholder:"name@example.com"})]}),Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsx)("label",{for:"message",className:"form-label",children:"Message"}),Object(c.jsx)("textarea",{className:"form-control",name:"message",rows:"3"})]}),Object(c.jsx)("div",{className:"d-grid gap-2 w-100",children:Object(c.jsx)("button",{className:"btn btn-primary w-100",type:"submit",children:"Send"})})]})]})},k=a(32),C=a.n(k),S=["#0D6BF5","#697179","#188351","#D53343","#212529"],_=function(){var e=Object(i.f)(),t=Object(n.useState)([]),a=Object(m.a)(t,2),s=a[0],r=a[1];return Object(n.useEffect)(Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("http://localhost:3002/comments");case 2:t=e.sent,a=t.data,r(a.sort((function(e,t){return t.date-e.date})));case 5:case"end":return e.stop()}}),e)}))),[]),null===s||void 0===s?void 0:s.map((function(t){return Object(c.jsxs)("div",{className:"card text-white mb-3 pb-0",style:{maxWidth:600,margin:30,backgroundColor:S[Math.floor(5*Math.random())]},children:[Object(c.jsx)("div",{className:"card-header",children:null===t||void 0===t?void 0:t.email}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h5",{className:"card-title",children:null===t||void 0===t?void 0:t.name}),Object(c.jsx)("p",{className:"card-text",children:null===t||void 0===t?void 0:t.message})]}),Object(c.jsx)("div",{class:"card-footer bg-transparent border-success",children:C()(null===t||void 0===t?void 0:t.date).fromNow()}),Object(c.jsx)("button",{type:"button",onClick:function(){return e.push("/edit/".concat(t.id))},class:"btn btn-light mb-0",children:"Update"})]})}))},D=function(){var e=Object(i.f)(),t=Object(n.useState)({}),a=Object(m.a)(t,2),s=a[0],r=a[1],l=Object(i.g)().id,o=function(){var t=Object(j.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,u.a.put("http://localhost:3002/comments/".concat(l),Object(g.a)(Object(g.a)({},s),{},{date:Date.now()}));case 3:e.push("/comments");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(n.useEffect)(Object(j.a)(d.a.mark((function e(){var t,a,c,n,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("http://localhost:3002/comments/".concat(l));case 2:t=e.sent,a=t.data,c=a.name,n=a.surname,s=a.email,i=a.message,r({name:c,surname:n,email:s,message:i});case 9:case"end":return e.stop()}}),e)}))),[l]);var b=function(e,t){"name"===t?r(Object(g.a)(Object(g.a)({},s),{},{name:e.target.value})):"surname"===t?r(Object(g.a)(Object(g.a)({},s),{},{surname:e.target.value})):"email"===t?r(Object(g.a)(Object(g.a)({},s),{},{email:e.target.value})):"message"===t&&r(Object(g.a)(Object(g.a)({},s),{},{message:e.target.value}))};return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("form",{className:"container w-50 mt-5",onSubmit:o,children:[Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsx)("label",{for:"name",className:"form-label",children:"Your Name"}),Object(c.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return b(e,"name")},value:s.name,name:"name",placeholder:"Write your name"})]}),Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsx)("label",{for:"surname",className:"form-label",children:"Your Surname"}),Object(c.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return b(e,"surname")},value:s.surname,name:"surname",placeholder:"Write your surname"})]}),Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsx)("label",{for:"email",className:"form-label",children:"Email address"}),Object(c.jsx)("input",{type:"email",className:"form-control",onChange:function(e){return b(e,"email")},value:s.email,name:"email",placeholder:"name@example.com"})]}),Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsx)("label",{for:"message",className:"form-label",children:"Message"}),Object(c.jsx)("textarea",{className:"form-control",onChange:function(e){return b(e,"message")},value:s.message,name:"message",rows:"3"})]}),Object(c.jsx)("div",{className:"d-grid gap-2 w-100",children:Object(c.jsx)("button",{className:"btn btn-primary w-100",type:"submit",children:"Send"})})]})})},E=function(){return Object(c.jsxs)(l.a,{children:[Object(c.jsx)(f,{}),Object(c.jsxs)(i.c,{children:[Object(c.jsx)(i.a,{path:"/detail/:current/:id",component:h,exact:!0}),Object(c.jsx)(i.a,{path:"/message",component:y,exact:!0}),Object(c.jsx)(i.a,{path:"/comments",component:_,exact:!0}),Object(c.jsx)(i.a,{path:"/edit/:id",component:D,exact:!0}),Object(c.jsx)(i.a,{path:"/current/:current",component:v,exact:!0}),Object(c.jsx)(i.a,{path:"/",component:v})]})]})};a(63);r.a.render(Object(c.jsx)(E,{}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.5f4c3866.chunk.js.map